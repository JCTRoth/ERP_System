// Invoice Template - DIN A4 Format
// Variables: order.*, customer.*, company.*, invoice.*, order.items[]
= Invoice
:doctype: article
:pdf-page-size: A4
:pdf-page-margin: [12mm, 20mm, 25mm, 20mm]
:nofooter:
// Font configuration for PDF generation
:pdf-fontsdir: {docdir}
:pdf-theme: default
:pdf-style: shared-styles.css
:toc: macro
:sectnums!:
:sectlinks:
:sectanchors:
:data-uri:
:source-highlighter: rouge
:toc-title:

// Styles automatically injected from shared-styles.css

[.header]
[.text-right]
**{company.name}** +
_{company.address}_ +
_{company.postalCode} {company.city}, {company.country}_ +
{company.email} | {company.phone} | Tax ID: {company.taxId}

'''

[.invoice-header]
[.text-center.small]
_{order.date}_

[.address-block]
[cols="1,1", frame="none", grid="none"]
|===
a|
[.section-title]#Bill To#

{customer.name}

{customer.address.street||customer.billing.street||customer.shipping.street||""} +
{customer.address.postalCode||customer.billing.postalCode||customer.shipping.postalCode||""} +
{customer.address.city||customer.billing.city||customer.shipping.city||""} +
{customer.address.country||customer.billing.country||customer.shipping.country||""} +
{customer.email} +

a|
[.section-title]#Invoice Details#
[.details-grid]
Invoice: {order.number} +
Issue Date: {order.date} +
Due Date: {order.dueDate||"Upon Receipt"} +
Status: {order.status} +
Payment Terms: Net 30 Days
|===

'''

[.items-section]
[.section-title]#Line Items#

[cols="1,4,1,>1,>1,>1", options="header", width="100%"]
|===
^|#
^|Description
^|SKU
^|Qty
>|Unit Price
>|Total

{#order.items}
^|{index}
|{item.name}
|{item.sku}
^|{item.quantity}
>|{item.unitPrice} €
>|*{item.total} €*
{#end}

|===

[.totals-section]
[cols="4,>1", frame="none", grid="none", width="100%", align="right"]
|===
|Subtotal
|{order.subtotal} €

|Tax ({invoice.taxRate}%)
|{order.tax} €

|Shipping
|{order.shipping} €

.2+h|**TOTAL DUE**
.2+h|**{order.total} €**
|===

'''

// ============================================================================
// PAYMENT INFORMATION
// ============================================================================
*Payment Information:* +
Bank: {company.bankName} +
IBAN: {company.bankIban} +
BIC/SWIFT: {company.bankSwift}

// ============================================================================
// FOOTER - Company Information and Page Number
// ============================================================================
'''

[.text-center.small]
{company.name} | {company.address}, {company.postalCode} {company.city} | {company.email} | {company.phone} +
