// Standard Invoice Template
// Uses core template variables with proper formatting
// Variables: {order.*}, {customer.*}, {company.*}, {invoice.*}, {#order.items}
= Invoice {order.number}
:doctype: book
:icons: font
:toc: macro
:author: {company.name}
:revnumber: {order.number}
:revdate: {order.date}
:revremark: {order.status}

// Company Header
[.text-center]
== {company.name}

[.text-center]
{company.address} + 
{company.city}, {company.postalCode} + 
{company.country}

[.text-center]
ðŸ“§ {company.email} | ðŸ“ž {company.phone || ''}

'''

// Invoice Info Section
[cols="2,2", frame="none", grid="none"]
|===
| *Invoice To:*
| *Invoice Details:*

| {customer.name}
| *Number:* {order.number}

| {customer.billing.street || customer.address.street || ''}
| *Date:* {order.date}

| {customer.billing.city || customer.address.city || ''}, {customer.billing.postalCode || customer.address.postalCode || ''}
| *Status:* {order.status}

| {customer.billing.country || customer.address.country || ''}
| *Due Date:* {order.dueDate}

| ðŸ“§ {customer.email}
| *Payment Terms:* Net 30 Days

| ðŸ“ž {customer.phone}
| *Tax ID:* {company.taxId || 'N/A'}
|===

// Items Table
[cols="1,3,1,1,1,1,1,1", options="header"]
.Items
|===
| # | Description | SKU | Quantity | Unit Price | Discount | Tax | Total

{#items}
| {index}
| {description}
| {sku}
| {quantity}
| ${unitPrice}
| ${discount}
| ${tax}
| ${total}
{/items}

|===

// Summary Section
[cols="3,1", frame="none", grid="none"]
|===
| *Subtotal:*
| {order.subtotal}

| *Tax ({invoice.taxRate}%):*
| {order.tax}

| *Shipping:*
| {order.shipping}

| *Discount:*
| -{order.discount}

| **TOTAL DUE:**
| **{order.total}**
|===

// Shipping Information
== Shipping Information

*Tracking Number:* {shipment.trackingNumber || order.trackingNumber || 'N/A'} + 
*Carrier:* {shipment.carrier || 'Standard Shipping'} + 
*Estimated Delivery:* {shipment.date || order.shippedAt || order.date}

*Shipping Address:*

{shipping.name || customer.name} + 
{shipping.street || customer.billing.street || customer.address.street || ''} + 
{shipping.city || customer.billing.city || customer.address.city || ''}, {shipping.postalCode || customer.billing.postalCode || customer.address.postalCode || ''} + 
{shipping.country || customer.billing.country || customer.address.country || ''}

// Notes Section (conditional)
{#order.notes}
== Additional Notes

{order.notes}

{#end}

// Footer
[.text-center]
{company.name} | {company.email} | {company.phone}

// Page Break for Terms
<<<

== Terms and Conditions

* Payment is due within 30 days of invoice date
* Late payments are subject to a 1.5% monthly finance charge
* All amounts are in {order.currency}
* Disputes must be reported within 7 days of invoice date

// End of Document
[.text-right]
Page {page-number} of {page-count}
